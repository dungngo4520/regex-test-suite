[
    {
        "description": "Extended grapheme cluster \\X",
        "pattern": "\\X",
        "flags": "",
        "tests": [
            {
                "description": "match single ASCII character",
                "input": "a",
                "matches": [
                    {
                        "start": 0,
                        "end": 1,
                        "match": "a",
                        "groups": []
                    }
                ]
            },
            {
                "description": "match base + combining mark",
                "input": "\u00e9",
                "matches": [
                    {
                        "start": 0,
                        "end": 2,
                        "match": "\u00e9",
                        "groups": []
                    }
                ]
            },
            {
                "description": "match emoji with modifier",
                "input": "\ud83d\udc4d\ud83c\udffb",
                "matches": [
                    {
                        "start": 0,
                        "end": 2,
                        "match": "\ud83d\udc4d\ud83c\udffb",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Multiple grapheme clusters",
        "pattern": "\\X+",
        "flags": "",
        "tests": [
            {
                "description": "match multiple graphemes",
                "input": "caf\u00e9",
                "matches": [
                    {
                        "start": 0,
                        "end": 5,
                        "match": "caf\u00e9",
                        "groups": []
                    }
                ]
            },
            {
                "description": "match emoji sequence",
                "input": "\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",
                "matches": [
                    {
                        "start": 0,
                        "end": 7,
                        "match": "\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Grapheme cluster with Korean Hangul",
        "pattern": "\\X",
        "flags": "g",
        "tests": [
            {
                "description": "match Hangul syllables",
                "input": "\ud55c\uae00",
                "matches": [
                    {
                        "start": 0,
                        "end": 1,
                        "match": "\ud55c",
                        "groups": []
                    },
                    {
                        "start": 1,
                        "end": 2,
                        "match": "\uae00",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Grapheme cluster with ZWJ emoji sequence",
        "pattern": "\\X",
        "flags": "",
        "tests": [
            {
                "description": "match family emoji (ZWJ sequence)",
                "input": "\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67",
                "matches": [
                    {
                        "start": 0,
                        "end": 5,
                        "match": "\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Grapheme cluster boundary",
        "pattern": "^\\X{3}$",
        "flags": "",
        "tests": [
            {
                "description": "exactly 3 grapheme clusters",
                "input": "caf\u00e9",
                "matches": [
                    {
                        "start": 0,
                        "end": 5,
                        "match": "caf\u00e9",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Grapheme with multiple combining marks",
        "pattern": "\\X",
        "flags": "",
        "tests": [
            {
                "description": "base + multiple diacritics",
                "input": "\u1ed9",
                "matches": [
                    {
                        "start": 0,
                        "end": 3,
                        "match": "\u1ed9",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Flag sequence (regional indicators)",
        "pattern": "\\X",
        "flags": "",
        "tests": [
            {
                "description": "match flag emoji",
                "input": "\ud83c\uddfa\ud83c\uddf8",
                "matches": [
                    {
                        "start": 0,
                        "end": 2,
                        "match": "\ud83c\uddfa\ud83c\uddf8",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Emoji with skin tone modifier",
        "pattern": "^\\X$",
        "flags": "",
        "tests": [
            {
                "description": "emoji + modifier as one cluster",
                "input": "\ud83d\udc4b\ud83c\udffd",
                "matches": [
                    {
                        "start": 0,
                        "end": 2,
                        "match": "\ud83d\udc4b\ud83c\udffd",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Grapheme vs character count",
        "pattern": "^\\X{5}$",
        "flags": "",
        "tests": [
            {
                "description": "5 graphemes (more code points)",
                "input": "h\u00e9llo",
                "matches": [
                    {
                        "start": 0,
                        "end": 6,
                        "match": "h\u00e9llo",
                        "groups": []
                    }
                ]
            }
        ]
    }
]
