[
    {
        "description": "Embedded code basic (??{ code })",
        "pattern": "(\\d+)(?(?{ $^N > 5 })yes|no)",
        "flags": "",
        "tests": [
            {
                "description": "code evaluates to true",
                "input": "7yes",
                "matches": [
                    {
                        "start": 0,
                        "end": 4,
                        "match": "7yes",
                        "groups": [
                            "7"
                        ]
                    }
                ]
            },
            {
                "description": "code evaluates to false",
                "input": "3no",
                "matches": [
                    {
                        "start": 0,
                        "end": 3,
                        "match": "3no",
                        "groups": [
                            "3"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "description": "Code assertion (?{ code })",
        "pattern": "(?{ $count++ })\\w+",
        "flags": "",
        "tests": [
            {
                "description": "code executes during match",
                "input": "word",
                "matches": [
                    {
                        "start": 0,
                        "end": 4,
                        "match": "word",
                        "groups": []
                    }
                ]
            }
        ]
    },
    {
        "description": "Conditional with code",
        "pattern": "(\\d+)(?(?{ $^N % 2 == 0 })even|odd)",
        "flags": "",
        "tests": [
            {
                "description": "even number",
                "input": "4even",
                "matches": [
                    {
                        "start": 0,
                        "end": 5,
                        "match": "4even",
                        "groups": [
                            "4"
                        ]
                    }
                ]
            },
            {
                "description": "odd number",
                "input": "3odd",
                "matches": [
                    {
                        "start": 0,
                        "end": 4,
                        "match": "3odd",
                        "groups": [
                            "3"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "description": "Postponed code (??{ code })",
        "pattern": "(\\w+)(?{ uc($^N) })x",
        "flags": "",
        "tests": [
            {
                "description": "postponed code execution",
                "input": "abcx",
                "matches": [
                    {
                        "start": 0,
                        "end": 4,
                        "match": "abcx",
                        "groups": [
                            "abc"
                        ]
                    }
                ]
            }
        ]
    }
]
